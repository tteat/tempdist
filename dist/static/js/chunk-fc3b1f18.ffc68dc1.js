(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc3b1f18"],{"10f6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-container"},[n("el-row",{staticStyle:{margin:"30px"},attrs:{gutter:20}},t._l(t.value,(function(e,i){return n("el-col",{key:e.title,staticStyle:{"margin-bottom":"30px"},attrs:{span:7}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[n("p",{staticStyle:{display:"inline","font-size":"18px"}},[n("strong",[t._v(t._s(t.value[i].title))])])])]),t._v(" "),n("p",{staticStyle:{"font-size":"12px"}},[t._v("此处配置项用于操作"+t._s(e.title))]),t._v(" "),n("el-button",{staticStyle:{float:"left",margin:"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.applyA(i)}}},[t._v("超分")]),t._v(" "),n("el-button",{staticStyle:{float:"right",margin:"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.clickA(i)}}},[t._v("编辑配置")])],1)],1)})),1),t._v(" "),n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogTableVisible,title:t.json.kind},on:{"update:visible":function(e){t.dialogTableVisible=e},dragDialog:t.handleDrag}},[n("el-select",{ref:"select",staticStyle:{"margin-top":"0px","margin-bottom":"20px"},on:{change:t.refreshData},model:{value:t.modelType,callback:function(e){t.modelType=e},expression:"modelType"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),n("el-button",{staticStyle:{float:"right","margin-top":"0px",height:"5%",display:"inline","margin-right":"20px","margin-bottom":"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.clickB(e)}}},[t._v("确认配置")]),t._v(" "),n("div",{staticClass:"card-editor-container"},[n("EditableJson",{model:{value:t.json,callback:function(e){t.json=e},expression:"json"}})],1)],1)],1)},a=[],o=(n("a481"),n("7f7f"),n("a888")),r=n("e98d"),l=n("6821b"),c=(n("6f82"),{name:"Template",directives:{elDragDialog:o["a"]},components:{EditableJson:r["a"]},data:function(){return{schedulingType:"未选择",group:"mission",list1:[],list2:[],list3:[],dialogTableVisible:!1,options:[],modelType:"",value:[],viewerName:"containers",json:[],kind:"",index:0,viewer:"nodes",list:[]}},mounted:function(){var t=this;this.$store.dispatch("taskData/getAllTaskData").then((function(e,n){console.log("resolve:",e),t.list1=e["data"]})).catch((function(t,e){console.log("reject:",e)}))},created:function(){var t=this;this.ip=Object(l["e"])(this.viewerName,this.name),Object(l["g"])({pageNum:1,pageSize:10,ip:this.ip,viewerName:this.viewer}).then((function(e){console.log(e.data);for(var n=0;n<e.data.length;n++){var i={title:e.data[n].metadata.name,json:e.data[n]};t.value.push(i)}console.log(t.value)}))},methods:{applyA:function(t){this.$message({message:"主机被设置为可配置超分！",type:"success"})},refreshData:function(t){console.log(t),"priority"==t?this.json=this.value[this.index+3]:"default"==t&&(this.json=this.value[this.index])},clickA:function(t){this.dialogTableVisible=!0,this.json=this.value[t],this.kind=this.value[t].title,this.index=t},clickB:function(){this.dialogTableVisible=!1,this.schedulingType=this.modelType;var t=this.toRawJson(this.json);Object(l["n"])({viewerName:"templates",json:t,kind:this.kind}).then((function(t){console.log(t.code)}))},handleDrag:function(){this.$refs.select.blur()},toRawJson:function(t){var e=JSON.stringify(t);return e=e.replace(/ +/g,""),e=e.replace(/\\n/g,""),e=e.substring(1,e.length-1),e=e.replace(/\\/g,""),e}}}),s=c,u=(n("4cb7"),n("2877")),d=Object(u["a"])(s,i,a,!1,null,null,null);e["default"]=d.exports},"4cb7":function(t,e,n){"use strict";var i=n("6b62"),a=n.n(i);a.a},"6821b":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"h",(function(){return r})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"j",(function(){return u})),n.d(e,"m",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"i",(function(){return h})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return b}));var i=n("b775"),a=n("69d3");function o(t,e){return console.log(e),"192.168.81.164"}function r(t,e){var n=Object(i["a"])({url:Object(a["h"])(),method:"get",params:{viewerName:t,ip:e}});return n}function l(t){return Object(i["a"])({url:Object(a["e"])(t.viewerName),method:"post",data:t})}function c(t,e){var n=Object(i["a"])({url:Object(a["f"])(),method:"get",params:{viewerName:t,objectName:e}});return n}function s(t){var e=Object(i["a"])({url:"/list/getActions",method:"get",params:t});return e}function u(t){var e=Object(i["a"])({url:"/list/getPodActions",method:"get",params:t});return e}function d(t){var e=Object(i["a"])({url:"/list/getVMActions",method:"get",params:t});return e}function f(t){var e=Object(i["a"])({url:Object(a["d"])(),method:"get",params:t});return e}function p(t){var e=Object(i["a"])({url:Object(a["a"])(),method:"post",data:t});return e}function m(t){var e=Object(i["a"])({url:Object(a["b"])(),method:"post",data:t});return e}function g(t){var e=Object(i["a"])({url:"/list/getFilterForm",method:"get",params:t});return e}function h(t){var e=Object(i["a"])({url:"/list/getLittleDataSource",method:"get",params:t});return e}function v(t){var e=Object(i["a"])({url:"/list/getRules",method:"get",params:t});return e}function b(t){var e=Object(i["a"])({url:"/list/getTemp",method:"get",params:t});return e}},"6b62":function(t,e,n){},a888:function(t,e,n){"use strict";n("a481"),n("6762"),n("2fdb");var i={bind:function(t,e,n){var i=t.querySelector(".el-dialog__header"),a=t.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();i.onmousedown=function(t){var e=t.clientX-i.offsetLeft,r=t.clientY-i.offsetTop,l=a.offsetWidth,c=a.offsetHeight,s=document.body.clientWidth,u=document.body.clientHeight,d=a.offsetLeft,f=s-a.offsetLeft-l,p=a.offsetTop,m=u-a.offsetTop-c,g=o(a,"left"),h=o(a,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(t){var i=t.clientX-e,o=t.clientY-r;-i>d?i=-d:i>f&&(i=f),-o>p?o=-p:o>m&&(o=m),a.style.cssText+=";left:".concat(i+g,"px;top:").concat(o+h,"px;"),n.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},a=function(t){t.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(a)),i.install=a;e["a"]=i}}]);